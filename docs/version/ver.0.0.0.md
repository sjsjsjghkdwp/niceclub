# ver 0.0.0

## lavaplayer 내 class들의 세부기능

#### PlayerManager

* 봇이 음악을 재생하기 위한 기능들이 포함되어있는 객체
* 싱글튼 패턴으로 구현되어있다

#### GuildMusicManager

* 특정 서버에서 음악재생기능을 담당할 객체. PlayerManager내에 Map형식으로 저장된다.

#### TrackScheduler

* GuildMusicManager 내부에 존재하는 대기열을 관리하는 객체
* 재생중이던 음악(track) 종료시 다음 곡을 가져올 때 이 객체가 사용된다
* 반복모드일 경우 대기열 맨 앞 곡을 복사하여 재생시키므로 반복모드를 종료해도 1번은 같은곡이 재생된다



## Commands 세부기능

#### JoinCommand

* 봇이 '어떤 음성채널에도 들어가 있지 않고' 유저가 '어떤 음성채널에 들어가 있을 경우' 봇이 해당 음성채널에 입장함

#### LeaveCommand

* 봇이 '어떤 음성채널에 들어가 있을 경우' 봇이 해당 음성채널에서 나옴 (음악이 꺼지지는 않음)

#### NowPlayingCommand

* 봇이 '어떤 음성채널에 들어가 음악을 재생중일 경우' 재생중인 음악의 정보를 출력함

#### PlayCommand

* 봇이 '어떤 음성채널에 들어가 있을 경우' 입력한 URL or 입력한 검색어의 검색결과의 음악/플레이리스트 를 Queue에 입력
* 만약 봇이 '음악을 재생중이 아닐 경우' 음악을 재생함

#### QueueCommand

* 봇이 '어떤 음성채널에 들어가 음악을 재생중이며 대기중인 음악이 있을 경우' 대기열을 20개까지 출력함

#### RepeatCommand

* 봇이 '어떤 음성채널에 들어가 음악을 재생중일 경우' 해당 곡을 끝까지 들으면 해당 곡을 다시 재생하도록 세팅함
* 한 곡 반복이라 할 수 있음

#### SkipCommand

* 봇이 '어떤 음성채널에 들어가 음악을 재생중일 경우' 현재 재생중인 곡을 제거하고 '다음 곡이 있을 경우' 다음 곡을 재생함

#### StopCommand

* 봇이 '어떤 음성채널에 들어가 음악을 재생중일 경우' 현재 재생중인 곡과 대기열을 제거함



## 기타 알아두어야 할, 사용될 것이라 예상되는 기능

#### CommandManager

* 채팅을 입력받아 Command를 실행하는 Manager

#### EventWaiterCommand

* 이모티콘 클릭 이벤트를 감지하는 Command

* Command이지만 음악봇 기능구현에 당장 쓸모는 없어 별도로 분리함
* 향후 UI 변경에서 활용될 것으로 보인다.

